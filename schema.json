{
    "$id": "https://github.com/waldiez/waldiez/tree/v0.4.7/schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "data": {
            "$ref": "#/definitions/WaldiezFlowData"
        },
        "type": {
            "type": "string"
        },
        "id": {
            "type": "string"
        },
        "name": {
            "type": "string"
        },
        "description": {
            "type": "string"
        },
        "tags": {
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "requirements": {
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "storageId": {
            "type": "string"
        },
        "createdAt": {
            "type": "string"
        },
        "updatedAt": {
            "type": "string"
        },
        "rest": {
            "type": "object",
            "additionalProperties": {}
        }
    },
    "required": [
        "createdAt",
        "data",
        "description",
        "id",
        "name",
        "requirements",
        "storageId",
        "tags",
        "type",
        "updatedAt"
    ],
    "definitions": {
        "WaldiezFlowData": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "nodes": {
                    "type": "array",
                    "items": {
                        "type": "object"
                    }
                },
                "edges": {
                    "type": "array",
                    "items": {
                        "type": "object"
                    }
                },
                "viewport": {
                    "type": "object"
                },
                "agents": {
                    "type": "object",
                    "properties": {
                        "userProxyAgents": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/WaldiezAgentUserProxy"
                            }
                        },
                        "assistantAgents": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/WaldiezAgentAssistant"
                            }
                        },
                        "ragUserProxyAgents": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/WaldiezAgentRagUser"
                            }
                        },
                        "reasoningAgents": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/WaldiezAgentReasoning"
                            }
                        },
                        "captainAgents": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/WaldiezAgentCaptain"
                            }
                        },
                        "groupManagerAgents": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/WaldiezAgentGroupManager"
                            }
                        }
                    },
                    "required": [
                        "userProxyAgents",
                        "assistantAgents",
                        "ragUserProxyAgents",
                        "reasoningAgents",
                        "captainAgents",
                        "groupManagerAgents"
                    ],
                    "additionalProperties": false
                },
                "models": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezModel"
                    }
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezTool"
                    }
                },
                "chats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezChat"
                    }
                },
                "isAsync": {
                    "type": "boolean"
                },
                "cacheSeed": {
                    "type": ["number", "null"]
                },
                "silent": {
                    "type": "boolean"
                }
            },
            "required": ["agents", "chats", "edges", "models", "nodes", "tools"]
        },
        "WaldiezAgentUserProxy": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "agentType": {
                    "$ref": "#/definitions/WaldiezNodeAgentType"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "requirements": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "createdAt": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezAgentUserProxyData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": [
                "agentType",
                "createdAt",
                "data",
                "description",
                "id",
                "name",
                "requirements",
                "tags",
                "type",
                "updatedAt"
            ],
            "additionalProperties": false,
            "description": "Waldiez User Proxy Agent."
        },
        "WaldiezNodeAgentType": {
            "$ref": "#/definitions/WaldiezAgentType",
            "description": "Waldiez node agent type (alias for WaldiezAgentType)."
        },
        "WaldiezAgentType": {
            "type": "string",
            "enum": ["user_proxy", "assistant", "rag_user_proxy", "reasoning", "captain", "group_manager"],
            "description": "Waldiez agent type."
        },
        "WaldiezAgentUserProxyData": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "systemMessage": {
                    "type": ["string", "null"]
                },
                "humanInputMode": {
                    "$ref": "#/definitions/WaldiezAgentHumanInputMode"
                },
                "codeExecutionConfig": {
                    "$ref": "#/definitions/WaldiezAgentCodeExecutionConfig"
                },
                "agentDefaultAutoReply": {
                    "type": ["string", "null"]
                },
                "maxConsecutiveAutoReply": {
                    "type": ["number", "null"]
                },
                "termination": {
                    "$ref": "#/definitions/WaldiezAgentTerminationMessageCheck"
                },
                "modelId": {
                    "type": ["string", "null"]
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentLinkedTool"
                    }
                },
                "parentId": {
                    "type": "string"
                },
                "nestedChats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentNestedChat"
                    }
                },
                "contextVariables": {
                    "type": "object"
                },
                "updateAgentStateBeforeReply": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentUpdateSystemMessage"
                    }
                },
                "handoffs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentHandoff"
                    }
                }
            },
            "required": [
                "agentDefaultAutoReply",
                "codeExecutionConfig",
                "contextVariables",
                "handoffs",
                "humanInputMode",
                "maxConsecutiveAutoReply",
                "modelId",
                "nestedChats",
                "systemMessage",
                "termination",
                "tools",
                "updateAgentStateBeforeReply"
            ],
            "description": "Waldiez User Proxy Agent Data."
        },
        "WaldiezAgentHumanInputMode": {
            "type": "string",
            "enum": ["ALWAYS", "NEVER", "TERMINATE"],
            "description": "Human input mode."
        },
        "WaldiezAgentCodeExecutionConfig": {
            "anyOf": [
                {
                    "$ref": "#/definitions/WaldiezAgentCodeExecutionConfigDict"
                },
                {
                    "type": "boolean",
                    "const": false
                }
            ],
            "description": "Code execution configuration. either a  {@link  WaldiezAgentCodeExecutionConfigDict }  or false (to disable)"
        },
        "WaldiezAgentCodeExecutionConfigDict": {
            "type": "object",
            "properties": {
                "workDir": {
                    "type": "string"
                },
                "useDocker": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "timeout": {
                    "type": "number"
                },
                "lastNMessages": {
                    "anyOf": [
                        {
                            "type": "number"
                        },
                        {
                            "type": "string",
                            "const": "auto"
                        }
                    ]
                },
                "functions": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "additionalProperties": false,
            "description": "Code execution configuration."
        },
        "WaldiezAgentTerminationMessageCheck": {
            "type": "object",
            "properties": {
                "type": {
                    "$ref": "#/definitions/WaldiezAgentTypeTerminationTypeOption"
                },
                "keywords": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "criterion": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/WaldiezAgentTerminationCriterionOption"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "methodContent": {
                    "type": ["string", "null"]
                }
            },
            "required": ["type", "keywords", "criterion", "methodContent"],
            "additionalProperties": false,
            "description": "Waldiez agent termination message check."
        },
        "WaldiezAgentTypeTerminationTypeOption": {
            "type": "string",
            "enum": ["none", "keyword", "method"],
            "description": "Termination type."
        },
        "WaldiezAgentTerminationCriterionOption": {
            "type": "string",
            "enum": ["found", "ending", "starting", "exact"],
            "description": "Termination criterion (if the termination type is \"keyword\")."
        },
        "WaldiezAgentLinkedTool": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "executorId": {
                    "type": "string"
                }
            },
            "required": ["id", "executorId"],
            "additionalProperties": false,
            "description": "Waldiez agent linked tools."
        },
        "WaldiezAgentNestedChat": {
            "type": "object",
            "properties": {
                "triggeredBy": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "messages": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "id": {
                                "type": "string"
                            },
                            "isReply": {
                                "type": "boolean"
                            }
                        },
                        "required": ["id", "isReply"],
                        "additionalProperties": false
                    }
                }
            },
            "required": ["triggeredBy", "messages"],
            "additionalProperties": false,
            "description": "Waldiez agent nested chat."
        },
        "WaldiezAgentUpdateSystemMessage": {
            "type": "object",
            "properties": {
                "type": {
                    "$ref": "#/definitions/WaldiezAgentUpdateSystemMessageType"
                },
                "content": {
                    "type": "string"
                }
            },
            "required": ["type", "content"],
            "additionalProperties": false
        },
        "WaldiezAgentUpdateSystemMessageType": {
            "type": "string",
            "enum": ["string", "callable"]
        },
        "WaldiezAgentHandoff": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "llm_conditions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezOnCondition"
                    }
                },
                "context_conditions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezOnContextCondition"
                    }
                },
                "after_work": {
                    "$ref": "#/definitions/WaldiezTransitionTarget"
                },
                "explicit_tool_handoff_info": {
                    "type": "object"
                }
            },
            "required": ["id"],
            "additionalProperties": false,
            "description": "Waldiez agent handoff A handoff that can be triggered by LLM or context conditions."
        },
        "WaldiezOnCondition": {
            "type": "object",
            "properties": {
                "target": {
                    "$ref": "#/definitions/WaldiezTransitionTarget"
                },
                "condition": {
                    "$ref": "#/definitions/WaldiezLLMCondition"
                }
            },
            "required": ["target", "condition"],
            "additionalProperties": false,
            "description": "Waldiez on condition A condition that triggers a handoff to a target based on LLM evaluation."
        },
        "WaldiezTransitionTarget": {
            "anyOf": [
                {
                    "type": "object",
                    "properties": {
                        "target_type": {
                            "type": "string",
                            "const": "AgentTarget"
                        },
                        "target": {
                            "type": "string"
                        },
                        "order": {
                            "type": "number"
                        }
                    },
                    "required": ["target_type", "target"],
                    "additionalProperties": false
                },
                {
                    "type": "object",
                    "properties": {
                        "target_type": {
                            "type": "string",
                            "const": "RandomAgentTarget"
                        },
                        "target": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "order": {
                            "type": "number"
                        }
                    },
                    "required": ["target_type", "target"],
                    "additionalProperties": false
                },
                {
                    "type": "object",
                    "properties": {
                        "target_type": {
                            "type": "string",
                            "enum": ["GroupChatTarget", "NestedChatTarget"]
                        },
                        "target": {
                            "type": "string"
                        },
                        "order": {
                            "type": "number"
                        }
                    },
                    "required": ["target_type", "target"],
                    "additionalProperties": false
                },
                {
                    "type": "object",
                    "properties": {
                        "target_type": {
                            "type": "string",
                            "enum": [
                                "AskUserTarget",
                                "GroupManagerTarget",
                                "RevertToUserTarget",
                                "StayTarget",
                                "TerminateTarget"
                            ]
                        },
                        "order": {
                            "type": "number"
                        }
                    },
                    "required": ["target_type"],
                    "additionalProperties": false
                }
            ],
            "description": "Waldiez Handoff transition target The target of a handoff transition. It can be one of the following:\n- `AgentTarget`: A specific agent target.\n- `RandomAgentTarget`: A random agent target.\n- `GroupChatTarget`: A group chat target.\n- `NestedChatTarget`: A nested chat target.\n- `AskUserTarget`: Ask the user for input.\n- `GroupManagerTarget`: A group manager target.\n- `RevertToUserTarget`: Revert to the user.\n- `StayTarget`: Stay in the current state.\n- `TerminateTarget`: Terminate the conversation."
        },
        "WaldiezLLMCondition": {
            "anyOf": [
                {
                    "$ref": "#/definitions/WaldiezStringLLMCondition"
                },
                {
                    "$ref": "#/definitions/WaldiezContextStrLLMCondition"
                }
            ],
            "description": "Waldiez LLM condition A condition that can be evaluated by an LLM."
        },
        "WaldiezStringLLMCondition": {
            "type": "object",
            "properties": {
                "condition_type": {
                    "type": "string",
                    "const": "string_llm"
                },
                "prompt": {
                    "type": "string"
                },
                "data": {
                    "type": "object"
                }
            },
            "required": ["condition_type", "prompt"],
            "additionalProperties": false,
            "description": "Waldiez String LLM condition A static string prompt to be evaluated by an LLM."
        },
        "WaldiezContextStrLLMCondition": {
            "type": "object",
            "properties": {
                "condition_type": {
                    "type": "string",
                    "const": "context_str_llm"
                },
                "context_str": {
                    "type": "string"
                },
                "data": {
                    "type": "object"
                }
            },
            "required": ["condition_type", "context_str"],
            "additionalProperties": false,
            "description": "Waldiez ContextStr LLM condition A `ContextStr` object with context variable placeholders that  will be substituted before being evaluated by an LLM."
        },
        "WaldiezOnContextCondition": {
            "type": "object",
            "properties": {
                "target": {
                    "$ref": "#/definitions/WaldiezTransitionTarget"
                },
                "condition": {
                    "$ref": "#/definitions/WaldiezContextCondition"
                }
            },
            "required": ["target", "condition"],
            "additionalProperties": false,
            "description": "Waldiez on context condition A condition that triggers a handoff to a target based on context evaluation."
        },
        "WaldiezContextCondition": {
            "anyOf": [
                {
                    "$ref": "#/definitions/WaldiezStringContextCondition"
                },
                {
                    "$ref": "#/definitions/WaldiezExpressionContextCondition"
                }
            ],
            "description": "Waldiez context condition A condition that can be evaluated against context variables."
        },
        "WaldiezStringContextCondition": {
            "type": "object",
            "properties": {
                "condition_type": {
                    "type": "string",
                    "const": "string_context"
                },
                "variable_name": {
                    "type": "string"
                }
            },
            "required": ["condition_type", "variable_name"],
            "additionalProperties": false,
            "description": "Waldiez String context condition  This condition checks if a named context variable exists and is truthy."
        },
        "WaldiezExpressionContextCondition": {
            "type": "object",
            "properties": {
                "condition_type": {
                    "type": "string",
                    "const": "expression_context"
                },
                "expression": {
                    "type": "string"
                },
                "data": {
                    "type": "object"
                }
            },
            "required": ["condition_type", "expression"],
            "additionalProperties": false,
            "description": "Waldiez Expression context condition  This condition evaluates a ContextExpression against the context variables."
        },
        "WaldiezAgentAssistant": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "agentType": {
                    "$ref": "#/definitions/WaldiezNodeAgentType"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "requirements": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "createdAt": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezAgentAssistantData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": [
                "agentType",
                "createdAt",
                "data",
                "description",
                "id",
                "name",
                "requirements",
                "tags",
                "type",
                "updatedAt"
            ],
            "additionalProperties": false,
            "description": "Waldiez Agent Assistant."
        },
        "WaldiezAgentAssistantData": {
            "type": "object",
            "properties": {
                "systemMessage": {
                    "type": ["string", "null"]
                },
                "humanInputMode": {
                    "$ref": "#/definitions/WaldiezAgentHumanInputMode"
                },
                "codeExecutionConfig": {
                    "$ref": "#/definitions/WaldiezAgentCodeExecutionConfig"
                },
                "agentDefaultAutoReply": {
                    "type": ["string", "null"]
                },
                "maxConsecutiveAutoReply": {
                    "type": ["number", "null"]
                },
                "termination": {
                    "$ref": "#/definitions/WaldiezAgentTerminationMessageCheck"
                },
                "modelId": {
                    "type": ["string", "null"]
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentLinkedTool"
                    }
                },
                "parentId": {
                    "type": "string"
                },
                "nestedChats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentNestedChat"
                    }
                },
                "contextVariables": {
                    "type": "object"
                },
                "updateAgentStateBeforeReply": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentUpdateSystemMessage"
                    }
                },
                "handoffs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentHandoff"
                    }
                },
                "isMultimodal": {
                    "type": "boolean"
                }
            },
            "required": [
                "agentDefaultAutoReply",
                "codeExecutionConfig",
                "contextVariables",
                "handoffs",
                "humanInputMode",
                "isMultimodal",
                "maxConsecutiveAutoReply",
                "modelId",
                "nestedChats",
                "systemMessage",
                "termination",
                "tools",
                "updateAgentStateBeforeReply"
            ],
            "additionalProperties": false,
            "description": "Waldiez Assistant Agent Data."
        },
        "WaldiezAgentRagUser": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "agentType": {
                    "$ref": "#/definitions/WaldiezNodeAgentType"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "requirements": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "createdAt": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezAgentRagUserData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": [
                "agentType",
                "createdAt",
                "data",
                "description",
                "id",
                "name",
                "requirements",
                "tags",
                "type",
                "updatedAt"
            ],
            "additionalProperties": false,
            "description": "WaldiezAgentRagUser"
        },
        "WaldiezAgentRagUserData": {
            "type": "object",
            "properties": {
                "systemMessage": {
                    "type": ["string", "null"]
                },
                "humanInputMode": {
                    "$ref": "#/definitions/WaldiezAgentHumanInputMode"
                },
                "codeExecutionConfig": {
                    "$ref": "#/definitions/WaldiezAgentCodeExecutionConfig"
                },
                "agentDefaultAutoReply": {
                    "type": ["string", "null"]
                },
                "maxConsecutiveAutoReply": {
                    "type": ["number", "null"]
                },
                "termination": {
                    "$ref": "#/definitions/WaldiezAgentTerminationMessageCheck"
                },
                "modelId": {
                    "type": ["string", "null"]
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentLinkedTool"
                    }
                },
                "parentId": {
                    "type": "string"
                },
                "nestedChats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentNestedChat"
                    }
                },
                "contextVariables": {
                    "type": "object"
                },
                "updateAgentStateBeforeReply": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentUpdateSystemMessage"
                    }
                },
                "handoffs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentHandoff"
                    }
                },
                "retrieveConfig": {
                    "$ref": "#/definitions/WaldiezRagUserRetrieveConfig"
                }
            },
            "required": [
                "agentDefaultAutoReply",
                "codeExecutionConfig",
                "contextVariables",
                "handoffs",
                "humanInputMode",
                "maxConsecutiveAutoReply",
                "modelId",
                "nestedChats",
                "retrieveConfig",
                "systemMessage",
                "termination",
                "tools",
                "updateAgentStateBeforeReply"
            ],
            "additionalProperties": false,
            "description": "Waldiez Rag User Agent Data."
        },
        "WaldiezRagUserRetrieveConfig": {
            "type": "object",
            "properties": {
                "task": {
                    "type": "string",
                    "enum": ["code", "qa", "default"]
                },
                "vectorDb": {
                    "type": "string",
                    "enum": ["chroma", "pgvector", "mongodb", "qdrant"]
                },
                "dbConfig": {
                    "$ref": "#/definitions/WaldiezVectorDbConfig"
                },
                "docsPath": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "newDocs": {
                    "type": "boolean"
                },
                "model": {
                    "type": ["string", "null"]
                },
                "chunkTokenSize": {
                    "type": ["number", "null"]
                },
                "contextMaxTokens": {
                    "type": ["number", "null"]
                },
                "chunkMode": {
                    "type": "string",
                    "enum": ["multi_lines", "one_line"]
                },
                "mustBreakAtEmptyLine": {
                    "type": "boolean"
                },
                "useCustomEmbedding": {
                    "type": "boolean"
                },
                "embeddingFunction": {
                    "type": ["string", "null"]
                },
                "customizedPrompt": {
                    "type": ["string", "null"]
                },
                "customizedAnswerPrefix": {
                    "type": ["string", "null"]
                },
                "updateContext": {
                    "type": "boolean"
                },
                "collectionName": {
                    "type": ["string", "null"]
                },
                "getOrCreate": {
                    "type": "boolean"
                },
                "overwrite": {
                    "type": "boolean"
                },
                "useCustomTokenCount": {
                    "type": "boolean"
                },
                "customTokenCountFunction": {
                    "type": ["string", "null"]
                },
                "useCustomTextSplit": {
                    "type": "boolean"
                },
                "customTextSplitFunction": {
                    "type": ["string", "null"]
                },
                "customTextTypes": {
                    "anyOf": [
                        {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "recursive": {
                    "type": "boolean"
                },
                "distanceThreshold": {
                    "type": ["number", "null"]
                },
                "nResults": {
                    "type": ["number", "null"]
                }
            },
            "required": [
                "task",
                "vectorDb",
                "dbConfig",
                "docsPath",
                "newDocs",
                "model",
                "chunkTokenSize",
                "contextMaxTokens",
                "chunkMode",
                "mustBreakAtEmptyLine",
                "useCustomEmbedding",
                "embeddingFunction",
                "customizedPrompt",
                "customizedAnswerPrefix",
                "updateContext",
                "collectionName",
                "getOrCreate",
                "overwrite",
                "useCustomTokenCount",
                "customTokenCountFunction",
                "useCustomTextSplit",
                "customTextSplitFunction",
                "customTextTypes",
                "recursive",
                "distanceThreshold",
                "nResults"
            ],
            "additionalProperties": false
        },
        "WaldiezVectorDbConfig": {
            "type": "object",
            "properties": {
                "model": {
                    "type": "string"
                },
                "useMemory": {
                    "type": "boolean"
                },
                "useLocalStorage": {
                    "type": "boolean"
                },
                "localStoragePath": {
                    "type": ["string", "null"]
                },
                "connectionUrl": {
                    "type": ["string", "null"]
                },
                "waitUntilIndexReady": {
                    "type": ["boolean", "null"]
                },
                "waitUntilDocumentReady": {
                    "type": ["boolean", "null"]
                },
                "metadata": {
                    "anyOf": [
                        {
                            "type": "object",
                            "additionalProperties": {}
                        },
                        {
                            "type": "null"
                        }
                    ]
                }
            },
            "required": ["model", "useMemory", "useLocalStorage", "localStoragePath", "connectionUrl"],
            "additionalProperties": false
        },
        "WaldiezAgentReasoning": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "agentType": {
                    "$ref": "#/definitions/WaldiezNodeAgentType"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "requirements": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "createdAt": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezAgentReasoningData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": [
                "agentType",
                "createdAt",
                "data",
                "description",
                "id",
                "name",
                "requirements",
                "tags",
                "type",
                "updatedAt"
            ],
            "additionalProperties": false,
            "description": "WaldiezAgentReasoning"
        },
        "WaldiezAgentReasoningData": {
            "type": "object",
            "properties": {
                "systemMessage": {
                    "type": ["string", "null"]
                },
                "humanInputMode": {
                    "$ref": "#/definitions/WaldiezAgentHumanInputMode"
                },
                "codeExecutionConfig": {
                    "$ref": "#/definitions/WaldiezAgentCodeExecutionConfig"
                },
                "agentDefaultAutoReply": {
                    "type": ["string", "null"]
                },
                "maxConsecutiveAutoReply": {
                    "type": ["number", "null"]
                },
                "termination": {
                    "$ref": "#/definitions/WaldiezAgentTerminationMessageCheck"
                },
                "modelId": {
                    "type": ["string", "null"]
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentLinkedTool"
                    }
                },
                "parentId": {
                    "type": "string"
                },
                "nestedChats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentNestedChat"
                    }
                },
                "contextVariables": {
                    "type": "object"
                },
                "updateAgentStateBeforeReply": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentUpdateSystemMessage"
                    }
                },
                "handoffs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentHandoff"
                    }
                },
                "verbose": {
                    "type": "boolean"
                },
                "reasonConfig": {
                    "$ref": "#/definitions/WaldiezReasoningAgentReasonConfig"
                }
            },
            "required": [
                "agentDefaultAutoReply",
                "codeExecutionConfig",
                "contextVariables",
                "handoffs",
                "humanInputMode",
                "maxConsecutiveAutoReply",
                "modelId",
                "nestedChats",
                "reasonConfig",
                "systemMessage",
                "termination",
                "tools",
                "updateAgentStateBeforeReply",
                "verbose"
            ],
            "additionalProperties": false,
            "description": "Waldiez Reasoning Agent Data."
        },
        "WaldiezReasoningAgentReasonConfig": {
            "type": "object",
            "properties": {
                "method": {
                    "$ref": "#/definitions/reasonConfigMethod"
                },
                "maxDepth": {
                    "type": "number"
                },
                "forestSize": {
                    "type": "number"
                },
                "ratingScale": {
                    "type": "number"
                },
                "beamSize": {
                    "type": "number"
                },
                "answerApproach": {
                    "$ref": "#/definitions/reasonConfigAnswerApproach"
                },
                "nsim": {
                    "type": "number"
                },
                "explorationConstant": {
                    "type": "number"
                }
            },
            "required": [
                "method",
                "maxDepth",
                "forestSize",
                "ratingScale",
                "beamSize",
                "answerApproach",
                "nsim",
                "explorationConstant"
            ],
            "additionalProperties": false
        },
        "reasonConfigMethod": {
            "type": "string",
            "enum": ["beam_search", "mcts", "lats", "dfs"]
        },
        "reasonConfigAnswerApproach": {
            "type": "string",
            "enum": ["pool", "best"]
        },
        "WaldiezAgentCaptain": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "agentType": {
                    "$ref": "#/definitions/WaldiezNodeAgentType"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "requirements": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "createdAt": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezAgentCaptainData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": [
                "agentType",
                "createdAt",
                "data",
                "description",
                "id",
                "name",
                "requirements",
                "tags",
                "type",
                "updatedAt"
            ],
            "additionalProperties": false,
            "description": "WaldiezAgentCaptain"
        },
        "WaldiezAgentCaptainData": {
            "type": "object",
            "properties": {
                "systemMessage": {
                    "type": ["string", "null"]
                },
                "humanInputMode": {
                    "$ref": "#/definitions/WaldiezAgentHumanInputMode"
                },
                "codeExecutionConfig": {
                    "$ref": "#/definitions/WaldiezAgentCodeExecutionConfig"
                },
                "agentDefaultAutoReply": {
                    "type": ["string", "null"]
                },
                "maxConsecutiveAutoReply": {
                    "type": ["number", "null"]
                },
                "termination": {
                    "$ref": "#/definitions/WaldiezAgentTerminationMessageCheck"
                },
                "modelId": {
                    "type": ["string", "null"]
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentLinkedTool"
                    }
                },
                "parentId": {
                    "type": "string"
                },
                "nestedChats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentNestedChat"
                    }
                },
                "contextVariables": {
                    "type": "object"
                },
                "updateAgentStateBeforeReply": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentUpdateSystemMessage"
                    }
                },
                "handoffs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentHandoff"
                    }
                },
                "agentLib": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezCaptainAgentLibEntry"
                    }
                },
                "toolLib": {
                    "type": ["string", "null"],
                    "enum": ["default", null]
                },
                "maxRound": {
                    "type": "number"
                },
                "maxTurns": {
                    "type": "number"
                }
            },
            "required": [
                "agentDefaultAutoReply",
                "agentLib",
                "codeExecutionConfig",
                "contextVariables",
                "handoffs",
                "humanInputMode",
                "maxConsecutiveAutoReply",
                "maxRound",
                "maxTurns",
                "modelId",
                "nestedChats",
                "systemMessage",
                "termination",
                "toolLib",
                "tools",
                "updateAgentStateBeforeReply"
            ],
            "additionalProperties": false,
            "description": "Waldiez Captain Agent Data."
        },
        "WaldiezCaptainAgentLibEntry": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "systemMessage": {
                    "type": "string"
                }
            },
            "required": ["name", "description", "systemMessage"],
            "additionalProperties": false
        },
        "WaldiezAgentGroupManager": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "agentType": {
                    "$ref": "#/definitions/WaldiezNodeAgentType"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "requirements": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "createdAt": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezAgentGroupManagerData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": [
                "agentType",
                "createdAt",
                "data",
                "description",
                "id",
                "name",
                "requirements",
                "tags",
                "type",
                "updatedAt"
            ],
            "additionalProperties": false,
            "description": "Waldiez Agent Group Manager."
        },
        "WaldiezAgentGroupManagerData": {
            "type": "object",
            "properties": {
                "systemMessage": {
                    "type": ["string", "null"]
                },
                "humanInputMode": {
                    "$ref": "#/definitions/WaldiezAgentHumanInputMode"
                },
                "codeExecutionConfig": {
                    "$ref": "#/definitions/WaldiezAgentCodeExecutionConfig"
                },
                "agentDefaultAutoReply": {
                    "type": ["string", "null"]
                },
                "maxConsecutiveAutoReply": {
                    "type": ["number", "null"]
                },
                "termination": {
                    "$ref": "#/definitions/WaldiezAgentTerminationMessageCheck"
                },
                "modelId": {
                    "type": ["string", "null"]
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentLinkedTool"
                    }
                },
                "parentId": {
                    "type": "string"
                },
                "nestedChats": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentNestedChat"
                    }
                },
                "contextVariables": {
                    "type": "object"
                },
                "updateAgentStateBeforeReply": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentUpdateSystemMessage"
                    }
                },
                "handoffs": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/WaldiezAgentHandoff"
                    }
                },
                "maxRound": {
                    "type": "number"
                },
                "adminName": {
                    "type": ["string", "null"]
                },
                "speakers": {
                    "$ref": "#/definitions/WaldiezAgentGroupManagerSpeakers"
                },
                "enableClearHistory": {
                    "type": "boolean"
                },
                "sendIntroductions": {
                    "type": "boolean"
                },
                "groupName": {
                    "type": "string"
                },
                "initialAgentId": {
                    "type": "string"
                }
            },
            "required": [
                "adminName",
                "agentDefaultAutoReply",
                "codeExecutionConfig",
                "contextVariables",
                "handoffs",
                "humanInputMode",
                "maxConsecutiveAutoReply",
                "maxRound",
                "modelId",
                "nestedChats",
                "speakers",
                "systemMessage",
                "termination",
                "tools",
                "updateAgentStateBeforeReply"
            ],
            "additionalProperties": false,
            "description": "Waldiez Group Manager Agent Data."
        },
        "WaldiezAgentGroupManagerSpeakers": {
            "type": "object",
            "properties": {
                "selectionMethod": {
                    "$ref": "#/definitions/GroupChatSpeakerSelectionMethodOption"
                },
                "selectionCustomMethod": {
                    "type": "string"
                },
                "maxRetriesForSelecting": {
                    "type": ["number", "null"]
                },
                "selectionMode": {
                    "$ref": "#/definitions/GroupChatSpeakerSelectionMode"
                },
                "allowRepeat": {
                    "anyOf": [
                        {
                            "type": "boolean"
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    ]
                },
                "allowedOrDisallowedTransitions": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                },
                "transitionsType": {
                    "$ref": "#/definitions/GroupChatSpeakerTransitionsType"
                }
            },
            "required": [
                "selectionMethod",
                "selectionCustomMethod",
                "maxRetriesForSelecting",
                "selectionMode",
                "allowRepeat",
                "allowedOrDisallowedTransitions",
                "transitionsType"
            ],
            "additionalProperties": false
        },
        "GroupChatSpeakerSelectionMethodOption": {
            "type": "string",
            "enum": ["default", "auto", "manual", "random", "round_robin"]
        },
        "GroupChatSpeakerSelectionMode": {
            "type": "string",
            "enum": ["repeat", "transition"]
        },
        "GroupChatSpeakerTransitionsType": {
            "type": "string",
            "enum": ["allowed", "disallowed"]
        },
        "WaldiezModel": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "requirements": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "createdAt": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezModelData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": [
                "type",
                "id",
                "name",
                "description",
                "tags",
                "requirements",
                "createdAt",
                "updatedAt",
                "data"
            ],
            "additionalProperties": false,
            "description": "Waldiez Model"
        },
        "WaldiezModelData": {
            "type": "object",
            "properties": {
                "baseUrl": {
                    "type": ["string", "null"]
                },
                "apiKey": {
                    "type": ["string", "null"]
                },
                "apiType": {
                    "$ref": "#/definitions/WaldiezModelAPIType"
                },
                "apiVersion": {
                    "type": ["string", "null"]
                },
                "temperature": {
                    "type": ["number", "null"]
                },
                "topP": {
                    "type": ["number", "null"]
                },
                "maxTokens": {
                    "type": ["number", "null"]
                },
                "defaultHeaders": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "price": {
                    "$ref": "#/definitions/WaldiezModelPrice"
                }
            },
            "required": [
                "baseUrl",
                "apiKey",
                "apiType",
                "apiVersion",
                "temperature",
                "topP",
                "maxTokens",
                "defaultHeaders",
                "price"
            ],
            "additionalProperties": false,
            "description": "ModelData"
        },
        "WaldiezModelAPIType": {
            "type": "string",
            "enum": [
                "openai",
                "azure",
                "deepseek",
                "google",
                "anthropic",
                "cohere",
                "mistral",
                "groq",
                "together",
                "nim",
                "other"
            ]
        },
        "WaldiezModelPrice": {
            "type": "object",
            "properties": {
                "promptPricePer1k": {
                    "type": ["number", "null"]
                },
                "completionTokenPricePer1k": {
                    "type": ["number", "null"]
                }
            },
            "required": ["promptPricePer1k", "completionTokenPricePer1k"],
            "additionalProperties": false
        },
        "WaldiezTool": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "requirements": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "createdAt": {
                    "type": "string"
                },
                "updatedAt": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezToolData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": [
                "type",
                "id",
                "name",
                "description",
                "tags",
                "requirements",
                "createdAt",
                "updatedAt",
                "data"
            ],
            "additionalProperties": false,
            "description": "Waldiez Tool"
        },
        "WaldiezToolData": {
            "type": "object",
            "properties": {
                "content": {
                    "type": "string"
                },
                "toolType": {
                    "$ref": "#/definitions/WaldiezToolType"
                },
                "secrets": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": ["content", "toolType", "secrets"],
            "additionalProperties": false,
            "description": "Tool data."
        },
        "WaldiezToolType": {
            "type": "string",
            "enum": ["shared", "custom", "langchain", "crewai"]
        },
        "WaldiezChat": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string"
                },
                "data": {
                    "$ref": "#/definitions/WaldiezChatData"
                },
                "rest": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": ["id", "data"],
            "additionalProperties": false,
            "description": "Waldiez Chat"
        },
        "WaldiezChatData": {
            "type": "object",
            "properties": {
                "source": {
                    "type": "string"
                },
                "target": {
                    "type": "string"
                },
                "sourceType": {
                    "$ref": "#/definitions/WaldiezAgentType"
                },
                "targetType": {
                    "$ref": "#/definitions/WaldiezAgentType"
                },
                "name": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "position": {
                    "type": "number"
                },
                "order": {
                    "type": "number"
                },
                "clearHistory": {
                    "type": "boolean"
                },
                "message": {
                    "$ref": "#/definitions/WaldiezMessage"
                },
                "maxTurns": {
                    "type": ["number", "null"]
                },
                "summary": {
                    "$ref": "#/definitions/WaldiezChatSummary"
                },
                "nestedChat": {
                    "type": "object",
                    "properties": {
                        "message": {
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/WaldiezMessage"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        },
                        "reply": {
                            "anyOf": [
                                {
                                    "$ref": "#/definitions/WaldiezMessage"
                                },
                                {
                                    "type": "null"
                                }
                            ]
                        }
                    },
                    "required": ["message", "reply"],
                    "additionalProperties": false
                },
                "prerequisites": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "realSource": {
                    "type": ["string", "null"]
                },
                "realTarget": {
                    "type": ["string", "null"]
                },
                "handoffCondition": {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/WaldiezHandoffCondition"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "silent": {
                    "type": "boolean"
                }
            },
            "required": [
                "source",
                "target",
                "sourceType",
                "targetType",
                "name",
                "description",
                "position",
                "order",
                "clearHistory",
                "message",
                "maxTurns",
                "summary",
                "nestedChat",
                "prerequisites",
                "realSource",
                "realTarget",
                "handoffCondition"
            ],
            "additionalProperties": false,
            "description": "Waldiez Chat Data"
        },
        "WaldiezMessage": {
            "type": "object",
            "properties": {
                "type": {
                    "$ref": "#/definitions/WaldiezMessageType"
                },
                "content": {
                    "type": ["string", "null"]
                },
                "useCarryover": {
                    "type": "boolean"
                },
                "context": {
                    "type": "object",
                    "additionalProperties": {}
                }
            },
            "required": ["type", "content", "context"],
            "additionalProperties": false
        },
        "WaldiezMessageType": {
            "type": "string",
            "enum": ["string", "method", "rag_message_generator", "none"]
        },
        "WaldiezChatSummary": {
            "type": "object",
            "properties": {
                "method": {
                    "$ref": "#/definitions/WaldiezChatLlmSummaryMethod"
                },
                "prompt": {
                    "type": "string"
                },
                "args": {
                    "type": "object"
                }
            },
            "required": ["method", "prompt", "args"],
            "additionalProperties": false,
            "description": "Waldiez Chat Summary"
        },
        "WaldiezChatLlmSummaryMethod": {
            "type": ["string", "null"],
            "enum": ["reflectionWithLlm", "lastMsg", null]
        },
        "WaldiezHandoffCondition": {
            "anyOf": [
                {
                    "$ref": "#/definitions/WaldiezLLMCondition"
                },
                {
                    "$ref": "#/definitions/WaldiezContextCondition"
                }
            ],
            "description": "Waldiez LLM or context condition A condition that can be evaluated by an LLM or against context variables."
        }
    },
    "title": "Waldiez Flow",
    "description": "The schema for a Waldiez Flow"
}
